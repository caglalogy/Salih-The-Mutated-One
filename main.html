<body style="height: 100vh; background: #111111; text-align: center; overflow: hidden;">
    <canvas id="c" width="1000" height="1000"></canvas>
    <script>
        context = c.getContext("2d");
        // IMAGES
        const car = new Image();
        const apple = new Image();
        const canvas = new Image();
        const mob = new Image();
        const kalp1 = new Image();
        const kalp2 = new Image();
        const kalp3 = new Image();
        car.src = "yozdil.png";
        apple.src = "turk.png";
        canvas.src = "salihgrass.png";
        mob.src = "ampul.png";
        kalp1.src = "kalp1.png";
        kalp2.src = "kalp1.png";
        kalp3.src = "kalp1.png";
        // GAME ELEMENTS
        var can = 3
        var kalpSize = 30;
        var canvasSize = 1000;
        var interval = 24;
        var score = bestScore = 0;
        function randomLocation() {
            return (50 * Math.floor(Math.random()*20));
        }
        // CAHARCTER
        var carX = 500;
        var carY = 500;
        var carSize = 50;
        // APPLE
        var appleY = randomLocation();
        var appleX = randomLocation();
        var appleSize = 30;
        // MOB
        var mobX = randomLocation();
        var mobY = randomLocation();
        var mobSize = 50;
        var mobCarp = 3;
        // FUNCTIONS
        function mobMove(){
            var farkX = mobX-carX;          // fark>0 mob sağda, fark<0 ise mob solda
            var farkY = mobY-carY;          // fark>0 mob aşağıda fark<0 mob yukarıda
            if(farkX>0 && farkY>0){                 // salih sol üstte
                mobX -= 50;
                mobY -= 50;
            }  
            else if(farkX>0 && farkY<0){            // salih sol aşağıda
                mobX -= 50;
                mobY += 50;
            }
            else if(farkX<0 && farkY>0){            // salih sağ üstte
                mobX += 50;
                mobY -= 50;
            }
            else if(farkX<0 && farkY<0){            // salih sağ altta
                mobX += 50;
                mobY += 50;
            }
            else if(farkX==0 && farkY>0){           // salih yukarda
                mobY -= 100;
            }
            else if(farkX==0 && farkY<0){           // salih aşağıda
                mobY += 100;
            }
            else if(farkX>0 && farkY==0){           // salih solda
                mobX -= 100;
            }
            else if(farkX<0 && farkY==0){           // salih sağda
                mobX += 100;
            }
        }

        document.onkeydown = function(e) {
                switch(e.which) {
                case 37: carX -= 50;                // left
                if(Math.ceil(Math.random()*mobCarp)==2){
                mobMove()
                }
                break;

                case 38: carY -= 50;                // up
                if(Math.ceil(Math.random()*mobCarp)==2){
                mobMove()
                }
                break;

                case 39: carX += 50;                // right
                if(Math.ceil(Math.random()*mobCarp)==2){
                mobMove()
                }
                break;

                case 40: carY += 50;                // down
                if(Math.ceil(Math.random()*mobCarp)==2){
                mobMove()
                }
                break;

                default: 32; // exit this handler for other keys
            }
            e.preventDefault(); // prevent the default action (scroll / move caret)
        };

        setInterval(() => {
            context.fillStyle = "#2f694c";
            context.drawImage(canvas,0,0,canvasSize,canvasSize);
            context.drawImage(apple,appleX,appleY,appleSize,appleSize);
            context.drawImage(car, carX, carY, carSize, carSize);
            context.drawImage(mob, mobX, mobY, mobSize, mobSize);
            context.drawImage(kalp1, 968, 0, kalpSize, kalpSize);
            context.drawImage(kalp2, 936, 0, kalpSize, kalpSize);
            context.drawImage(kalp3, 904, 0, kalpSize, kalpSize);
            context.fillStyle = "black";
            context.font = "20px Verdana";
            context.fillText("Score: " + score, 9, 25);
            bestScore = bestScore < score ? score : bestScore;
            context.fillText("Best Score: " + bestScore, 9,50);
            //context.fillText("CarX: " + carX + ", CarY: " + carY, 9,75);
            //context.fillText("AppleX: " + appleX + ", AppleY: " + appleY, 9,100);
            // DID YOU EAT THE APPLE
            function eating (carX,carY,appleX,appleY){
                if( (carX == appleX) && (carY == appleY) ){
                    return true;
                } else {
                    return false;
                }
            }
            ////////////////////////////////// GOLDEN APPLE
            // IF YOU EAT THE APPLE
            if (eating(carX,carY,appleX,appleY)){
                appleY = randomLocation();
                appleX = randomLocation();
                score += 1;
                //carSize += 10;
            }
            // IF YOU TOUCH THE BORDER
            if(carX>960 || carY>960 || carX<0 || carY<0){
                carX = 500;
                carY = 500;
                appleY = randomLocation();
                appleX = randomLocation();
                mobY = randomLocation();
                mobX = randomLocation();
                carSize = 50;
                can--;
            }
            // IF MOB CATCH YOU
            if((carX == mobX) && (carY == mobY)){
                can--;
                carSize -= score;
                mobY = randomLocation();
                mobX = randomLocation();
                appleY = randomLocation();
                appleX = randomLocation();
            }
            // LIFE COUNTING
            if(can==2){
                kalp3.src = "kalpsiz.png"
            }
            if(can==1){
                kalp2.src = "kalpsiz.png"
            }
            if(can==0){
                kalp3.src = "kalp1.png"
                kalp2.src = "kalp1.png"
                score = 0;
                can = 3;
                carSize = 50;
            }
            //
        }, interval)
    </script>
</body>